# ------------------------------------------------------------------------
# 	Makefile for demos 
# ------------------------------------------------------------------------

prefix =	@prefix@
exec_prefix =	@exec_prefix@
libdir =	@libdir@
bindir =	@bindir@
scriptdir =	@BLT_LIBRARY@
destdir =	$(scriptdir)/demos
srcdir =	@srcdir@

SHELL =		/bin/sh
RM =		rm -rf
INSTALL =	@INSTALL@
INSTALL_DATA =	@INSTALL_DATA@

instdirs =	$(prefix) $(exec_prefix) $(libdir) $(scriptdir) $(destdir) \
		$(destdir)/bitmaps $(destdir)/images

scripts =	barchart barchart2 barchart2.tcl barchart3 barchart4 barchart5 \
		bgexec bgexec2 bgexec3 bgexec4 bg-test3.tcl \
		bitmap \
		bltDemo.tcl bltGrPs.tcl \
		busy \
		calendar \
		dragdrop.tcl dragdrop2.tcl \
		eps \
		form \
		graph graph1.tcl graph2 graph2.tcl graph3 graph3.tcl \
		graph4 graph5 graph5.tcl graph6 graph7 \
		hier hier2 hier3 hier4 \
		htext htext.txt \
		page.tcl patterns.tcl \
		spline stripchart \
		tabset tabset2 tabset3 tabset4 

images  =	buckskin.gif chalk.gif clouds.gif corrugated_metal.gif \
		folder.gif mini-book1.gif mini-book2.gif mini-display.gif \
		mini-doc.gif mini-filemgr.gif mini-ofolder.gif \
		mini-windows.gif ofolder.gif qv100.t.gif rain.gif \
		smblue_rock.gif stopsign.gif tan_paper.gif tan_paper2.gif \
		txtrflag.gif out.ps

bitmaps	=	eyes.bm face fc_left fc_left1 fc_left1m fc_leftm fc_mid \
		fc_midm fc_right fc_right1 fc_right1m fc_rightm greenback \
		hobbes.xbm hobbes_mask.xbm sharky.bm xbob.bm

all:

install: inst-dirs inst-bitmaps inst-images inst-scripts 

inst-scripts: 
	for i in $(scripts) ; do \
	    src=$(srcdir)/$$i ; \
	    dest=$(destdir)/$$i ; \
	    rm -f $$dest ; \
	    echo "#!$(bindir)/bltwish" > $$dest ; \
	    cat $$src >> $$dest ; \
	    chmod 555 $$dest; \
	done 

inst-bitmaps: 
	for i in $(bitmaps) ; do \
	    $(INSTALL_DATA) $(srcdir)/bitmaps/$$i $(destdir)/bitmaps ; \
	done 

inst-images: 
	for i in $(images) ; do \
	    $(INSTALL_DATA) $(srcdir)/images/$$i $(destdir)/images ; \
	done 

inst-dirs:
	@for i in $(instdirs) ; do \
	    if test -d $$i ; then : ; else mkdir $$i ; fi ; \
        done

clean:

distclean: clean
	$(RM) $(srcdir)/*.bak $(srcdir)/*\~ $(srcdir)/"#"* Makefile
